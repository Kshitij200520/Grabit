{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useCart}from'../context/CartContext';import{orderAPI}from'../services/api';import'./Orders.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Orders=()=>{const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const{user}=useCart();useEffect(()=>{if(user){loadOrders();}},[user]);const loadOrders=async()=>{try{const response=await orderAPI.getUserOrders(user._id);setOrders(response.data);}catch(error){console.error('Error loading orders:',error);}finally{setLoading(false);}};const getStatusColor=status=>{switch(status){case'Pending':return'#ffc107';case'Processing':return'#007bff';case'Shipped':return'#17a2b8';case'Delivered':return'#28a745';case'Cancelled':return'#dc3545';default:return'#6c757d';}};if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"orders-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Please login to view your orders\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-primary\",children:\"Login\"})]})})});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading orders...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"orders-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Orders\"}),orders.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-orders\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You haven't placed any orders yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"btn btn-primary\",children:\"Start Shopping\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"orders-list\",children:orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order #\",order._id.slice(-8).toUpperCase()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Placed on \",new Date(order.createdAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge\",style:{backgroundColor:getStatusColor(order.status)},children:order.status})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-items\",children:[order.orderItems.slice(0,3).map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"order-item\",children:/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" \\xD7 \",item.quantity]})},index)),order.orderItems.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"more-items\",children:[\"+\",order.orderItems.length-3,\" more items\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-total\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total: $\",order.totalPrice.toFixed(2)]})}),/*#__PURE__*/_jsx(Link,{to:\"/orders/\".concat(order._id),className:\"btn btn-primary\",children:\"View Details\"})]})]},order._id))})]})});};export default Orders;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}