{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useCart}from'../context/CartContext';import{orderAPI}from'../services/api';import'./Orders.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Orders=()=>{const[orders,setOrders]=useState([]);const[loading,setLoading]=useState(true);const{user}=useCart();useEffect(()=>{if(user){loadOrders();}},[user]);const loadOrders=async()=>{try{const response=await orderAPI.getUserOrders(user._id);setOrders(response.data);}catch(error){console.error('Error loading orders:',error);}finally{setLoading(false);}};const getStatusColor=status=>{switch(status){case'Pending':return'#ffc107';case'Processing':return'#007bff';case'Shipped':return'#17a2b8';case'Delivered':return'#28a745';case'Cancelled':return'#dc3545';default:return'#6c757d';}};if(!user){return/*#__PURE__*/_jsx(\"div\",{className:\"orders-page\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Please login to view your orders\"}),/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-primary\",children:\"Login\"})]})})});}if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading orders...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"orders-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"My Orders\"}),orders.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"no-orders\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"You haven't placed any orders yet.\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"btn btn-primary\",children:\"Start Shopping\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"orders-list\",children:orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:\"order-card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"order-info\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Order #\",order._id.slice(-8).toUpperCase()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Placed on \",new Date(order.createdAt).toLocaleDateString()]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"order-status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"status-badge\",style:{backgroundColor:getStatusColor(order.status)},children:order.status})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-items\",children:[order.orderItems.slice(0,3).map((item,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"order-item\",children:/*#__PURE__*/_jsxs(\"span\",{children:[item.name,\" \\xD7 \",item.quantity]})},index)),order.orderItems.length>3&&/*#__PURE__*/_jsxs(\"div\",{className:\"more-items\",children:[\"+\",order.orderItems.length-3,\" more items\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"order-footer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"order-total\",children:/*#__PURE__*/_jsxs(\"strong\",{children:[\"Total: $\",order.totalPrice.toFixed(2)]})}),/*#__PURE__*/_jsx(Link,{to:\"/orders/\".concat(order._id),className:\"btn btn-primary\",children:\"View Details\"})]})]},order._id))})]})});};export default Orders;","map":{"version":3,"names":["React","useState","useEffect","Link","useCart","orderAPI","jsx","_jsx","jsxs","_jsxs","Orders","orders","setOrders","loading","setLoading","user","loadOrders","response","getUserOrders","_id","data","error","console","getStatusColor","status","className","children","to","length","map","order","slice","toUpperCase","Date","createdAt","toLocaleDateString","style","backgroundColor","orderItems","item","index","name","quantity","totalPrice","toFixed","concat"],"sources":["C:/Users/kshit/Desktop/SD Assignment/client/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useCart } from '../context/CartContext';\r\nimport { orderAPI } from '../services/api';\r\nimport './Orders.css';\r\n\r\nconst Orders = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { user } = useCart();\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      loadOrders();\r\n    }\r\n  }, [user]);\r\n\r\n  const loadOrders = async () => {\r\n    try {\r\n      const response = await orderAPI.getUserOrders(user._id);\r\n      setOrders(response.data);\r\n    } catch (error) {\r\n      console.error('Error loading orders:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status) => {\r\n    switch (status) {\r\n      case 'Pending': return '#ffc107';\r\n      case 'Processing': return '#007bff';\r\n      case 'Shipped': return '#17a2b8';\r\n      case 'Delivered': return '#28a745';\r\n      case 'Cancelled': return '#dc3545';\r\n      default: return '#6c757d';\r\n    }\r\n  };\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"orders-page\">\r\n        <div className=\"container\">\r\n          <div className=\"text-center\">\r\n            <h2>Please login to view your orders</h2>\r\n            <Link to=\"/login\" className=\"btn btn-primary\">Login</Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading orders...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"orders-page\">\r\n      <div className=\"container\">\r\n        <h1>My Orders</h1>\r\n        \r\n        {orders.length === 0 ? (\r\n          <div className=\"no-orders\">\r\n            <p>You haven't placed any orders yet.</p>\r\n            <Link to=\"/products\" className=\"btn btn-primary\">\r\n              Start Shopping\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <div className=\"orders-list\">\r\n            {orders.map(order => (\r\n              <div key={order._id} className=\"order-card\">\r\n                <div className=\"order-header\">\r\n                  <div className=\"order-info\">\r\n                    <h3>Order #{order._id.slice(-8).toUpperCase()}</h3>\r\n                    <p>Placed on {new Date(order.createdAt).toLocaleDateString()}</p>\r\n                  </div>\r\n                  <div className=\"order-status\">\r\n                    <span \r\n                      className=\"status-badge\"\r\n                      style={{ backgroundColor: getStatusColor(order.status) }}\r\n                    >\r\n                      {order.status}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div className=\"order-items\">\r\n                  {order.orderItems.slice(0, 3).map((item, index) => (\r\n                    <div key={index} className=\"order-item\">\r\n                      <span>{item.name} Ã— {item.quantity}</span>\r\n                    </div>\r\n                  ))}\r\n                  {order.orderItems.length > 3 && (\r\n                    <div className=\"more-items\">\r\n                      +{order.orderItems.length - 3} more items\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                <div className=\"order-footer\">\r\n                  <div className=\"order-total\">\r\n                    <strong>Total: ${order.totalPrice.toFixed(2)}</strong>\r\n                  </div>\r\n                  <Link \r\n                    to={`/orders/${order._id}`}\r\n                    className=\"btn btn-primary\"\r\n                  >\r\n                    View Details\r\n                  </Link>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Orders;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}