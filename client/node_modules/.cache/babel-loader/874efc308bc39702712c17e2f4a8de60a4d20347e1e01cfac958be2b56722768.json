{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL\n});\n\n// Add authentication interceptor\napi.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// Product API\nexport const productAPI = {\n  getAll: (params = {}) => api.get('/products', {\n    params\n  }),\n  getById: id => api.get(`/products/${id}`),\n  create: data => api.post('/products', data),\n  update: (id, data) => api.put(`/products/${id}`, data),\n  delete: id => api.delete(`/products/${id}`),\n  seed: () => api.post('/products/seed')\n};\n\n// Cart API - Updated to match backend\nexport const cartAPI = {\n  getCart: () => api.get('/cart'),\n  addToCart: data => api.post('/cart/add', data),\n  updateQuantity: data => api.put('/cart/update', data),\n  removeItem: productId => api.delete(`/cart/remove/${productId}`),\n  clearCart: () => api.delete('/cart/clear')\n};\n\n// Order API\nexport const orderAPI = {\n  create: data => api.post('/orders', data),\n  getById: id => api.get(`/orders/${id}`),\n  getUserOrders: userId => api.get(`/orders/user/${userId}`),\n  getAll: () => api.get('/orders'),\n  updateStatus: (id, status) => api.put(`/orders/${id}/status`, {\n    status\n  }),\n  markAsPaid: id => api.put(`/orders/${id}/pay`),\n  cancel: id => api.put(`/orders/${id}/cancel`)\n};\n\n// User API\nexport const userAPI = {\n  register: data => api.post('/users/register', data),\n  login: data => api.post('/users/login', data),\n  getProfile: id => api.get(`/users/profile/${id}`),\n  updateProfile: (id, data) => api.put(`/users/profile/${id}`, data),\n  getAll: () => api.get('/users')\n};\n\n// Payment API\nexport const paymentAPI = {\n  createOrder: data => api.post('/payments/order', data),\n  verifyPayment: data => api.post('/payments/verify', data),\n  handleFailure: data => api.post('/payments/failure', data)\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","interceptors","request","use","config","token","localStorage","getItem","headers","Authorization","error","Promise","reject","productAPI","getAll","params","get","getById","id","data","post","update","put","delete","seed","cartAPI","getCart","addToCart","updateQuantity","removeItem","productId","clearCart","orderAPI","getUserOrders","userId","updateStatus","status","markAsPaid","cancel","userAPI","register","login","getProfile","updateProfile","paymentAPI","createOrder","verifyPayment","handleFailure"],"sources":["C:/Users/kshit/Desktop/SD Assignment/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n});\r\n\r\n// Add authentication interceptor\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem('token');\r\n    if (token) {\r\n      config.headers.Authorization = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\n// Product API\r\nexport const productAPI = {\r\n  getAll: (params = {}) => api.get('/products', { params }),\r\n  getById: (id) => api.get(`/products/${id}`),\r\n  create: (data) => api.post('/products', data),\r\n  update: (id, data) => api.put(`/products/${id}`, data),\r\n  delete: (id) => api.delete(`/products/${id}`),\r\n  seed: () => api.post('/products/seed'),\r\n};\r\n\r\n// Cart API - Updated to match backend\r\nexport const cartAPI = {\r\n  getCart: () => api.get('/cart'),\r\n  addToCart: (data) => api.post('/cart/add', data),\r\n  updateQuantity: (data) => api.put('/cart/update', data),\r\n  removeItem: (productId) => api.delete(`/cart/remove/${productId}`),\r\n  clearCart: () => api.delete('/cart/clear'),\r\n};\r\n\r\n// Order API\r\nexport const orderAPI = {\r\n  create: (data) => api.post('/orders', data),\r\n  getById: (id) => api.get(`/orders/${id}`),\r\n  getUserOrders: (userId) => api.get(`/orders/user/${userId}`),\r\n  getAll: () => api.get('/orders'),\r\n  updateStatus: (id, status) => api.put(`/orders/${id}/status`, { status }),\r\n  markAsPaid: (id) => api.put(`/orders/${id}/pay`),\r\n  cancel: (id) => api.put(`/orders/${id}/cancel`),\r\n};\r\n\r\n// User API\r\nexport const userAPI = {\r\n  register: (data) => api.post('/users/register', data),\r\n  login: (data) => api.post('/users/login', data),\r\n  getProfile: (id) => api.get(`/users/profile/${id}`),\r\n  updateProfile: (id, data) => api.put(`/users/profile/${id}`, data),\r\n  getAll: () => api.get('/users'),\r\n};\r\n\r\n// Payment API\r\nexport const paymentAPI = {\r\n  createOrder: (data) => api.post('/payments/order', data),\r\n  verifyPayment: (data) => api.post('/payments/verify', data),\r\n  handleFailure: (data) => api.post('/payments/failure', data),\r\n};\r\n\r\nexport default api;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}