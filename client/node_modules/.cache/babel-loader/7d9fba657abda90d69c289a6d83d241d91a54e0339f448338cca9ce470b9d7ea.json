{"ast":null,"code":"import React,{useState,useEffect}from'react';import{productAPI}from'../services/api';import ProductCard from'../components/ProductCard';import'./Products.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[search,setSearch]=useState('');const[category,setCategory]=useState('');const[categories,setCategories]=useState([]);useEffect(()=>{loadProducts();},[search,category]);const loadProducts=async()=>{try{setLoading(true);const params={};if(search)params.search=search;if(category)params.category=category;const response=await productAPI.getAll(params);setProducts(response.data);// Extract unique categories\nconst uniqueCategories=[...new Set(response.data.map(p=>p.category))];setCategories(uniqueCategories);}catch(error){console.error('Error loading products:',error);}finally{setLoading(false);}};const handleSearchChange=e=>{setSearch(e.target.value);};const handleCategoryChange=e=>{setCategory(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"products-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products...\",value:search,onChange:handleSearchChange,className:\"form-control\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"category-filter\",children:/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:handleCategoryChange,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]})})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading products...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"products-grid\",children:[products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id)),products.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-products\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No products found.\"})})]})]})});};export default Products;","map":{"version":3,"names":["React","useState","useEffect","productAPI","ProductCard","jsx","_jsx","jsxs","_jsxs","Products","products","setProducts","loading","setLoading","search","setSearch","category","setCategory","categories","setCategories","loadProducts","params","response","getAll","data","uniqueCategories","Set","map","p","error","console","handleSearchChange","e","target","value","handleCategoryChange","className","children","type","placeholder","onChange","cat","product","_id","length"],"sources":["C:/Users/kshit/Desktop/SD Assignment/client/src/pages/Products.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { productAPI } from '../services/api';\r\nimport ProductCard from '../components/ProductCard';\r\nimport './Products.css';\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [search, setSearch] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [categories, setCategories] = useState([]);\r\n\r\n  useEffect(() => {\r\n    loadProducts();\r\n  }, [search, category]);\r\n\r\n  const loadProducts = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const params = {};\r\n      if (search) params.search = search;\r\n      if (category) params.category = category;\r\n      \r\n      const response = await productAPI.getAll(params);\r\n      setProducts(response.data);\r\n      \r\n      // Extract unique categories\r\n      const uniqueCategories = [...new Set(response.data.map(p => p.category))];\r\n      setCategories(uniqueCategories);\r\n    } catch (error) {\r\n      console.error('Error loading products:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSearchChange = (e) => {\r\n    setSearch(e.target.value);\r\n  };\r\n\r\n  const handleCategoryChange = (e) => {\r\n    setCategory(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"products-page\">\r\n      <div className=\"container\">\r\n        <div className=\"products-header\">\r\n          <h1>Products</h1>\r\n          \r\n          <div className=\"filters\">\r\n            <div className=\"search-box\">\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search products...\"\r\n                value={search}\r\n                onChange={handleSearchChange}\r\n                className=\"form-control\"\r\n              />\r\n            </div>\r\n            \r\n            <div className=\"category-filter\">\r\n              <select\r\n                value={category}\r\n                onChange={handleCategoryChange}\r\n                className=\"form-control\"\r\n              >\r\n                <option value=\"\">All Categories</option>\r\n                {categories.map(cat => (\r\n                  <option key={cat} value={cat}>{cat}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"loading\">Loading products...</div>\r\n        ) : (\r\n          <div className=\"products-grid\">\r\n            {products.map(product => (\r\n              <ProductCard key={product._id} product={product} />\r\n            ))}\r\n            {products.length === 0 && (\r\n              <div className=\"no-products\">\r\n                <p>No products found.</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}