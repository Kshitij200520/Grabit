{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{productAPI,userAPI}from'../services/api';import{useCart}from'../context/CartContext';import ProductCard from'../components/ProductCard';import'./Home.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=()=>{const[featuredProducts,setFeaturedProducts]=useState([]);const[loading,setLoading]=useState(true);const{setUser}=useCart();useEffect(()=>{const loadData=async()=>{try{// Create demo user if not logged in\nconst demoUser=await userAPI.createDemo();setUser(demoUser.data);// Seed products if needed\nawait productAPI.seed();// Get featured products\nconst response=await productAPI.getAll({featured:'true'});setFeaturedProducts(response.data);}catch(error){console.error('Error loading data:',error);}finally{setLoading(false);}};loadData();},[setUser]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading...\"});}return/*#__PURE__*/_jsx(\"div\",{className:\"home\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"section\",{className:\"hero\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"hero-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to E-Shop\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Discover amazing products at great prices\"}),/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"btn btn-primary hero-btn\",children:\"Shop Now\"})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"featured-products\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Featured Products\"}),/*#__PURE__*/_jsx(\"div\",{className:\"products-grid\",children:featuredProducts.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id))}),featuredProducts.length===0&&/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"No featured products available.\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"features\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"features-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:\"\\uD83D\\uDE9A\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Free Shipping\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Free shipping on orders over $50\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:\"\\uD83D\\uDD12\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Secure Payment\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Your payment information is safe with us\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"feature\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"feature-icon\",children:\"\\u21A9\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Easy Returns\"}),/*#__PURE__*/_jsx(\"p\",{children:\"30-day return policy for all products\"})]})]})})]})});};export default Home;","map":{"version":3,"names":["React","useState","useEffect","Link","productAPI","userAPI","useCart","ProductCard","jsx","_jsx","jsxs","_jsxs","Home","featuredProducts","setFeaturedProducts","loading","setLoading","setUser","loadData","demoUser","createDemo","data","seed","response","getAll","featured","error","console","className","children","to","map","product","_id","length"],"sources":["C:/Users/kshit/Desktop/SD Assignment/client/src/pages/Home.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { productAPI, userAPI } from '../services/api';\r\nimport { useCart } from '../context/CartContext';\r\nimport ProductCard from '../components/ProductCard';\r\nimport './Home.css';\r\n\r\nconst Home = () => {\r\n  const [featuredProducts, setFeaturedProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const { setUser } = useCart();\r\n\r\n  useEffect(() => {\r\n    const loadData = async () => {\r\n      try {\r\n        // Create demo user if not logged in\r\n        const demoUser = await userAPI.createDemo();\r\n        setUser(demoUser.data);\r\n\r\n        // Seed products if needed\r\n        await productAPI.seed();\r\n\r\n        // Get featured products\r\n        const response = await productAPI.getAll({ featured: 'true' });\r\n        setFeaturedProducts(response.data);\r\n      } catch (error) {\r\n        console.error('Error loading data:', error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadData();\r\n  }, [setUser]);\r\n\r\n  if (loading) {\r\n    return <div className=\"loading\">Loading...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"home\">\r\n      <div className=\"container\">\r\n        <section className=\"hero\">\r\n          <div className=\"hero-content\">\r\n            <h1>Welcome to E-Shop</h1>\r\n            <p>Discover amazing products at great prices</p>\r\n            <Link to=\"/products\" className=\"btn btn-primary hero-btn\">\r\n              Shop Now\r\n            </Link>\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"featured-products\">\r\n          <h2>Featured Products</h2>\r\n          <div className=\"products-grid\">\r\n            {featuredProducts.map(product => (\r\n              <ProductCard key={product._id} product={product} />\r\n            ))}\r\n          </div>\r\n          {featuredProducts.length === 0 && (\r\n            <p className=\"text-center\">No featured products available.</p>\r\n          )}\r\n        </section>\r\n\r\n        <section className=\"features\">\r\n          <div className=\"features-grid\">\r\n            <div className=\"feature\">\r\n              <div className=\"feature-icon\">üöö</div>\r\n              <h3>Free Shipping</h3>\r\n              <p>Free shipping on orders over $50</p>\r\n            </div>\r\n            <div className=\"feature\">\r\n              <div className=\"feature-icon\">üîí</div>\r\n              <h3>Secure Payment</h3>\r\n              <p>Your payment information is safe with us</p>\r\n            </div>\r\n            <div className=\"feature\">\r\n              <div className=\"feature-icon\">‚Ü©Ô∏è</div>\r\n              <h3>Easy Returns</h3>\r\n              <p>30-day return policy for all products</p>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}