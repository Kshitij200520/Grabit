{"ast":null,"code":"import React,{useState,useEffect}from'react';import{productAPI}from'../services/api';import ProductCard from'../components/ProductCard';import'./Products.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Products=()=>{const[products,setProducts]=useState([]);const[loading,setLoading]=useState(true);const[search,setSearch]=useState('');const[category,setCategory]=useState('');const[categories,setCategories]=useState([]);useEffect(()=>{loadProducts();},[search,category]);const loadProducts=async()=>{try{setLoading(true);const params={};if(search)params.search=search;if(category)params.category=category;const response=await productAPI.getAll(params);setProducts(response.data);// Extract unique categories\nconst uniqueCategories=[...new Set(response.data.map(p=>p.category))];setCategories(uniqueCategories);}catch(error){console.error('Error loading products:',error);}finally{setLoading(false);}};const handleSearchChange=e=>{setSearch(e.target.value);};const handleCategoryChange=e=>{setCategory(e.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"products-page\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"products-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Products\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"filters\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"search-box\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search products...\",value:search,onChange:handleSearchChange,className:\"form-control\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"category-filter\",children:/*#__PURE__*/_jsxs(\"select\",{value:category,onChange:handleCategoryChange,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Categories\"}),categories.map(cat=>/*#__PURE__*/_jsx(\"option\",{value:cat,children:cat},cat))]})})]})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading\",children:\"Loading products...\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"products-grid\",children:[products.map(product=>/*#__PURE__*/_jsx(ProductCard,{product:product},product._id)),products.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"no-products\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No products found.\"})})]})]})});};export default Products;","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}